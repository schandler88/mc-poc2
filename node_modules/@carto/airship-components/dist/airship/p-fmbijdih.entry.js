import{r as t,c as e,h as s,g as a}from"./p-3fce0d94.js";import{r as n}from"./p-f8ca3ca0.js";class i{constructor({activeClass:t,element:e,name:s,order:a,type:n}){this._active=!1,this._activeClass=t,this._element=e,this._name=s,this._order=a,this._type=n}get active(){return this._active}get activeClass(){return this._activeClass}get element(){return this._element}get name(){return this._name}get order(){return this._order}get type(){return this._type}enable(){this.element.classList.add(this._activeClass),this._active=!0}disable(){this.element.classList.remove(this._activeClass),this._active=!1}}function r(t,e){return new i({activeClass:"as-sidebar--visible",element:t,name:t.getAttribute("data-name")||`Sidebar ${e}`,order:t.getAttribute("data-tab-order")||0,type:"sidebar"})}function o(t,e){return new i({activeClass:"as-map-panels--visible",element:t,name:t.getAttribute("data-name")||`Panel ${e}`,order:t.getAttribute("data-tab-order")||0,type:"panels"})}const c=function(t){const e=t.querySelector(".as-map-footer");return e?new i({activeClass:"as-map-footer--visible",element:e,name:e.getAttribute("data-name")||"Bottom Bar",order:e.getAttribute("data-tab-order")||0,type:"mapFooter"}):null},h=function(t){const e=t.querySelector(".as-map-area");return e?new i({activeClass:"as-map-area--visible",element:e,name:e.getAttribute("data-name")||"Map",order:e.getAttribute("data-tab-order")||0,type:"map"}):null},l=function(t){return Array.from(t.querySelectorAll(".as-map-panels")).map(o)},m=function(t){return Array.from(t.querySelectorAll(".as-sidebar")).map(r)},d=class{constructor(s){t(this,s),this.sections=[],this.ready=e(this,"ready",7),this.sectionChange=e(this,"sectionChange",7)}componentWillLoad(){this.sections=this.getContentSections()}componentDidLoad(){this.ready.emit()}async getSections(){return this.sections}async setVisible(t){const e=this.sections.find(e=>e.name===t);e&&this.setActive(e)}render(){return[this._renderTabs(),this._renderContent()]}_renderTabs(){const t=this.sections.map((t,e)=>{if(t.element)return s("button",{onClick:()=>this.setActive(t),role:"tab",class:{"as-tabs__item":!0,"as-tabs__item--active":t.active}},t.name||e)});return s("div",{role:"tablist",class:"as-toolbar-tabs as-tabs as-tabs--xl"},t)}_renderContent(){return s("section",{class:"as-content"},s("slot",null))}setActive(t,e=!0){t.active||(this.disableActiveSection(),t.enable(),e&&n(t.element),this.activeSection=t,this.sections=[...this.sections],this.sectionChange.emit(t))}disableActiveSection(){this.activeSection&&this.activeSection.disable()}getContentSections(){const t=[h(this.element),...m(this.element),...l(this.element),c(this.element)].filter(t=>null!==t);return t.length&&(t.sort((t,e)=>t.order-e.order),this.setActive(t[0],!1)),t}get element(){return a(this)}static get style(){return"as-responsive-content{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;min-height:0}"}};export{d as as_responsive_content};