import{r as s,c as t,h as e,g as i}from"./p-3fce0d94.js";function a(s){const t=t=>{s.move(t),t.preventDefault(),t.stopPropagation()},e=i=>{!function(s,t,e){document.removeEventListener("mousemove",t.move),document.removeEventListener("touchmove",t.move),document.removeEventListener("mouseup",t.release),document.removeEventListener("touchend",t.release),document.removeEventListener("dragstart",h),e.move&&e.move(s),e.release&&e.release(s)}(i,{move:t,release:e},s),i.preventDefault(),i.stopPropagation()};document.addEventListener("mousemove",t),document.addEventListener("touchmove",t),document.addEventListener("mouseup",e),document.addEventListener("touchend",e),document.addEventListener("dragstart",h)}function h(s){s.preventDefault(),s.stopPropagation()}const r=class{constructor(e){s(this,e),this.barMove=t(this,"barMove",7),this.barChangeStart=t(this,"barChangeStart",7),this.barChangeEnd=t(this,"barChangeEnd",7)}render(){return e("div",{class:{"as-range-slider__range-bar":!0,"as-range-slider__range-bar--disabled":this.disabled,"as-range-slider__range-bar--draggable":this.isDraggable},style:{left:`${this.rangeStartPercentage}%`,width:`${this.rangeEndPercentage-this.rangeStartPercentage}%`}})}onMouseDown(s){this.isDraggable&&(this.barChangeStart.emit(),this.railElement=document.querySelector(".as-range-slider__rail"),this.rangeBarElement=this.element.querySelector(".as-range-slider__range-bar"),this.previousMouseEvent=s,a({move:s=>this.onMove(s),release:()=>this._onRelease()}))}onMove(s){if(!this.previousMouseEvent)return void(this.previousMouseEvent=s);this.setCursorTo("grabbing"),this.rangeBarElement&&this.rangeBarElement.classList&&this.rangeBarElement.classList.add("as-range-slider__range-bar--moving");const t=this._getRangeDifference(),e=this._getMovementDelta(s,this.previousMouseEvent);let i=100*(this.rangeBarElement.offsetLeft+e)/this.railElement.offsetWidth,a=i+t;i<0&&(a=(i=0)+t),a>100&&(i=(a=100)-t),this._updateRangePercentages([i,a])&&(this.previousMouseEvent=s),this.barMove.emit([this.rangeStartPercentage,this.rangeEndPercentage])}_updateRangePercentages(s){const[t,e]=s,i=t<this.rangeStartPercentage?-1:1,a=Math.abs(this.rangeStartPercentage-t),h=this.stepPercentage,r=this._getRangeDifference();return a>=h?(this.rangeStartPercentage+=i*a,this.rangeEndPercentage+=i*a,!0):e>100-h?(this.rangeStartPercentage=100-r,this.rangeEndPercentage=100,!1):t<0+h?(this.rangeStartPercentage=0,this.rangeEndPercentage=0+r,!1):void 0}_onRelease(){this.setCursorTo(""),this.rangeBarElement&&this.rangeBarElement.classList&&this.rangeBarElement.classList.remove("as-range-slider__range-bar--moving"),this.barChangeEnd.emit()}_getMovementDelta(s,t){const e=s.changedTouches,i=t.changedTouches;return(e?e[0].pageX:s.pageX)-(i?i[0].pageX:t.pageX)}_getRangeDifference(){return this.rangeEndPercentage-this.rangeStartPercentage}setCursorTo(s){document.body.style.cursor=s}get element(){return i(this)}static get style(){return"as-range-slider-bar{--as--range-slider__range-bar--background-color:var(--as--color--primary,#1785fb);--as--range-slider__range-bar--background-color--disabled:var(--as--color--ui-03,#e2e6e3)}as-range-slider-bar .as-range-slider__range-bar{position:absolute;z-index:1;top:50%;height:2px;-webkit-transform:translate3d(0,-50%,0);transform:translate3d(0,-50%,0);background-color:var(--as--range-slider__range-bar--background-color,#1785fb)}as-range-slider-bar .as-range-slider__range-bar--disabled{background-color:var(--as--range-slider__range-bar--background-color--disabled)}as-range-slider-bar .as-range-slider__range-bar--draggable{cursor:-webkit-grab;cursor:grab}as-range-slider-bar .as-range-slider__range-bar--draggable:after{content:\" \";position:absolute;top:-6px;left:0;width:calc(100% - 20px);height:12px;-webkit-transform:translate3d(10px,0,0);transform:translate3d(10px,0,0)}as-range-slider-bar .as-range-slider__range-bar--moving{cursor:-webkit-grabbing;cursor:grabbing}"}},n=class{constructor(e){s(this,e),this.showCaption=!0,this.thumbMove=t(this,"thumbMove",7),this.thumbChangeStart=t(this,"thumbChangeStart",7),this.thumbChangeEnd=t(this,"thumbChangeEnd",7),this.thumbIncrease=t(this,"thumbIncrease",7),this.thumbDecrease=t(this,"thumbDecrease",7),this.thumbRender=t(this,"thumbRender",7)}componentDidRender(){this.thumbRender.emit()}render(){const s={left:`${this.percentage}%`},t={"as-range-slider__thumb":!0,"as-range-slider__thumb--disabled":this.disabled};return e("div",{role:"slider",tabindex:this.disabled?"-1":"0","aria-valuetext":this._getDisplayValue(this.value),"aria-valuenow":this.value,"aria-valuemin":this.valueMin,"aria-valuemax":this.valueMax,class:t,style:s,"data-value":this.value},e("div",{class:"as-range-slider__thumb-handle"}),this._renderDisplayValue())}onMouseDown(s){this.thumbChangeStart.emit(),this.railElement=document.querySelector(".as-range-slider__rail");const t=s.target;t.classList.add("as-range-slider__thumb-handle--moving"),this.railBoundingClientRect=this.railElement.getBoundingClientRect(),a({move:s=>this._onMove(s),release:()=>this._onRelease(t)}),t.focus()}onKeyDown(s){if(this.disabled)return;let t=!1;switch(s.keyCode){case 40:case 37:this.thumbDecrease.emit(),t=!0;break;case 38:case 39:this.thumbIncrease.emit(),t=!0}t&&(s.preventDefault(),s.stopPropagation())}_onMove(s){this.setCursorTo("grabbing");const t=s.changedTouches,e=100*((t?t[0].pageX:s.pageX)-this.railBoundingClientRect.left)/this.railElement.offsetWidth;return e<0&&this.percentage>0?this.thumbMove.emit(0):e>100&&this.percentage<100?this.thumbMove.emit(100):void(e<0||e>100||this.thumbMove.emit(e))}_onRelease(s){s.classList.remove("as-range-slider__thumb-handle--moving"),this.setCursorTo(""),this.thumbChangeEnd.emit()}_renderDisplayValue(){return e("span",{class:{"as-caption":!0,"as-font-medium":!0,"as-range-slider__value":!0,"as-range-slider__value--disabled":this.disabled,"as-range-slider__value--hidden":!this.showCaption}},this._getDisplayValue(this.value))}_getDisplayValue(s){return this.formatValue&&this.formatValue(s)||s}setCursorTo(s){document.body.style.cursor=s}get element(){return i(this)}static get style(){return"as-range-slider-thumb .as-range-slider__thumb{--as--range-slider--disabled--value--color:var(--as--color--ui-03,#e2e6e3);--as--range-slider--thumb-handle--border-color:var(--as--color--primary,#1785fb);--as--range-slider--thumb-handle--background-color:var(--as--color--white,#fff);--as--range-slider--disabled--thumb-handle--border-color:var(--as--color--ui-03,#e2e6e3);--as--range-slider--disabled--thumb-handle--background-color:var(--as--color--ui-02,#f5f5f5);--as--range-slider--disabled--thumb-handle--focus-background-color:var(--as--color--ui-02,#f5f5f5);--as--range-slider--focus--thumb-handle--background-color:var(--as--color--primary,#1785fb);position:absolute;z-index:2;width:12px;height:12px;-webkit-transform:translate3d(-6px,0,0);transform:translate3d(-6px,0,0);-webkit-transition:opacity .2s ease,-webkit-transform .2s ease;transition:opacity .2s ease,-webkit-transform .2s ease;transition:transform .2s ease,opacity .2s ease;transition:transform .2s ease,opacity .2s ease,-webkit-transform .2s ease}as-range-slider-thumb .as-range-slider__value{position:absolute;bottom:-16px;left:50%;-webkit-transform:translate3d(-50%,0,0);transform:translate3d(-50%,0,0);-webkit-transition:-webkit-transform .2s ease;transition:-webkit-transform .2s ease;transition:transform .2s ease;transition:transform .2s ease,-webkit-transform .2s ease;pointer-events:none}as-range-slider-thumb .as-range-slider__value--disabled{color:var(--as--range-slider--disabled--value--color)}as-range-slider-thumb .as-range-slider__value--hidden{visibility:hidden;opacity:0}as-range-slider-thumb .as-range-slider__thumb-handle{width:12px;height:12px;-webkit-transition:-webkit-transform .2s ease;transition:-webkit-transform .2s ease;transition:transform .2s ease;transition:transform .2s ease,-webkit-transform .2s ease;border:1px solid var(--as--range-slider--thumb-handle--border-color);border-radius:50%;background-color:var(--as--range-slider--thumb-handle--background-color);cursor:-webkit-grab;cursor:grab}as-range-slider-thumb .as-range-slider__thumb-handle:before{content:\"\";position:absolute;top:-15px;left:-15px;width:30px;height:30px}as-range-slider-thumb .as-range-slider__thumb-handle.as-range-slider__thumb-handle--moving,as-range-slider-thumb .as-range-slider__thumb-handle:hover{-webkit-transform:scale(1.33);transform:scale(1.33)}as-range-slider-thumb .as-range-slider__thumb-handle--moving{cursor:-webkit-grabbing;cursor:grabbing}as-range-slider-thumb .as-range-slider__thumb--disabled .as-range-slider__thumb-handle{border:1px solid var(--as--range-slider--disabled--thumb-handle--border-color);background-color:var(--as--range-slider--disabled--thumb-handle--background-color)}as-range-slider-thumb .as-range-slider__thumb--disabled .as-range-slider__thumb-handle:focus{background:var(--as--range-slider--disabled--thumb-handle--focus-background-color)}as-range-slider-thumb .as-range-slider__thumb:focus{outline:none}as-range-slider-thumb .as-range-slider__thumb:focus .as-range-slider__thumb-handle{background:var(--as--range-slider--focus--thumb-handle--background-color)}as-range-slider-thumb .as-range-slider__thumb+.as-range-slider__thumb:hover{-webkit-transform:translate3d(-6px,0,0) scale(1.33);transform:translate3d(-6px,0,0) scale(1.33)}"}};export{r as as_range_slider_bar,n as as_range_slider_thumb};