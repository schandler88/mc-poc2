System.register(["./p-634af494.system.js"],function(e){"use strict";var t,a,n,r;return{setters:[function(e){t=e.r;a=e.c;n=e.h;r=e.g}],execute:function(){function i(e){function t(e){return Math.abs(Math.round(e)-e)>1e-10}var a=0;while(t(e*Math.pow(10,a))&&isFinite(Math.pow(10,a))){a++}return a}var s=e("as_range_slider",function(){function e(e){t(this,e);this.minValue=0;this.maxValue=10;this.step=1;this.disabled=false;this.draggable=false;this.isDraggable=false;this.showThumb=true;this.showThumbCaption=true;this.thumbs=[];this.change=a(this,"change",7);this.changeStart=a(this,"changeStart",7);this.changeEnd=a(this,"changeEnd",7)}e.prototype.validateValue=function(e){if(!this._isBetweenValidValues(e)){throw new Error("RangeSlider: Value "+e+" has to be between "+("minValue ("+this.minValue+") and maxValue ("+this.maxValue+")"))}this._updateThumbs()};e.prototype.validateRange=function(e){var t=this;if(e.length!==2){throw new Error("RangeSlider: Range "+e+" need two values at most")}e.map(function(e){return t.validateValue(e)});this._updateThumbs()};e.prototype.componentWillLoad=function(){this._validateValues();this._updateThumbs()};e.prototype.componentDidRender=function(){this._checkLabelOverflow()};e.prototype.componentDidLoad=function(){this.checkThumbCollision()};e.prototype.render=function(){var e=this;if(this.thumbs.length<1){return}var t={"as-range-slider":true,"as-range-slider--disabled":this.disabled};return n("div",{class:t},n("div",{class:"as-range-slider__rail"},this.thumbs.map(function(t){return e._renderThumb(t)}),this._renderRangeBar(),this._renderCollapsedLabel()))};e.prototype._getLabelOffsetPercentage=function(){var e=this.thumbs[1].percentage-this.thumbs[0].percentage;return this.thumbs[0].percentage+e/2};e.prototype._updateThumbs=function(){this.thumbs=this._createThumbs()};e.prototype._renderThumb=function(e){var t=this;if(this.showThumb){return n("as-range-slider-thumb",{value:e.value,valueMin:e.valueMin,valueMax:e.valueMax,percentage:e.percentage,disabled:this.disabled,formatValue:this.formatValue,showCaption:this._shouldShowCaption(),onThumbMove:function(a){return t._onThumbMove(e,a.detail)},onThumbIncrease:function(){return t._onKeyboardThumbMove(e,+1)},onThumbDecrease:function(){return t._onKeyboardThumbMove(e,-1)},onThumbChangeStart:function(){return t._emitChangeIn(t.changeStart)},onThumbChangeEnd:function(){return t._emitChangeIn(t.changeEnd)},onThumbRender:function(){return t.checkThumbCollision()}})}};e.prototype._renderRangeBar=function(){var e=this;var t=this._getCurrentThumbPercentages(),a=t[0],r=t[1];var i=(this.isDraggable||this.draggable)&&this.range!==undefined;return n("as-range-slider-bar",{rangeStartPercentage:a,rangeEndPercentage:r,isDraggable:i,disabled:this.disabled,stepPercentage:this._getStepPercentage(),onBarChangeStart:function(){return e._emitChangeIn(e.changeStart)},onBarChangeEnd:function(){return e._emitChangeIn(e.changeEnd)},onBarMove:function(t){return e._onBarMove(t)}})};e.prototype._renderCollapsedLabel=function(){if(this.thumbs.length!==2){return}var e=function(e){return e};var t=this.formatValue||e;var a=this._getLabelOffsetPercentage();var r=this.thumbs[0].percentage<50;var i={left:a+"%"};var s={"as-caption":true,"as-font-medium":true,"as-range-slider__rail-label":true,"as-range-slider__rail-label--active":this.areLabelsColliding,"as-range-slider__rail-label__overflow--left":this.isLeftLabelOverflowing&&r,"as-range-slider__rail-label__overflow--right":this.isRightLabelOverflowing&&!r};return n("div",{class:s,style:i},t(this.thumbs[0].value),n("span",{class:"as-range-slider__label-separator"},"â€”"),t(this.thumbs[1].value))};e.prototype._getCurrentThumbPercentages=function(){var e=this._sliderHasRange()?this.thumbs[0].percentage:0;var t=this.thumbs[this.thumbs.length-1].percentage;return[e,t]};e.prototype._shouldShowCaption=function(){return!this.areLabelsColliding&&this.showThumbCaption};e.prototype._validateValues=function(){if(this.value){this.validateValue(this.value);return}if(this.range){this.validateRange(this.range);return}};e.prototype._createThumbs=function(){var e=this;var t=this.range&&this.range.length;if(!t){return[this._getThumbData(this.value)]}var a=this.range.map(function(t){return e._getThumbData(t)});this._clampThumbValues(a);return a};e.prototype._getThumbData=function(e){return{percentage:this._isBetweenValidValues(e)?this._getPercentage(e):this._getPercentage(this.minValue),value:this._isBetweenValidValues(e)?e:this.minValue,valueMax:this.maxValue,valueMin:this.minValue}};e.prototype._isBetweenValidValues=function(e){return e>=this.minValue&&e<=this.maxValue};e.prototype._sliderHasRange=function(){return this.range&&this.range.length===2};e.prototype._onKeyboardThumbMove=function(e,t){var a=this._getPercentage(e.value+t*this.step);if(a<0||a>100){return}this._onThumbMove(e,a)};e.prototype._onThumbMove=function(e,t){var a=this.thumbs,n=a[0],r=a[1];var i=n===e;var s=r===e;var u=this._getValueFromPercentage(t);var h=this._getStepValue(u);var l=this._getPercentage(h);var o=this.minValue;var g=this.maxValue;if(this._sliderHasRange()&&i){g=r.value-this.step;if(g<h){return}}if(this._sliderHasRange()&&s){o=n.value+this.step;if(o>h){return}}e.value=h;e.valueMin=o;e.valueMax=g;e.percentage=l;this.thumbs=this.thumbs.slice();this._emitChangeIn(this.change)};e.prototype._onBarMove=function(e){var t=this;var a=e.detail;var n=a.map(function(e){return t._getValueFromPercentage(e)});var r=n.map(function(e){return t._getStepValue(e)});var i=r.map(function(e){return{percentage:t._getPercentage(e),value:e}});this._clampThumbValues(i);this.thumbs=i.slice();this._emitChangeIn(this.change)};e.prototype._emitChangeIn=function(e){var t=this.thumbs.map(function(e){return e.value});return e.emit(t)};e.prototype._getPercentage=function(e){return(e-this.minValue)/(this.maxValue-this.minValue)*100};e.prototype._getValueFromPercentage=function(e){return e*(this.maxValue-this.minValue)/100+this.minValue};e.prototype._getStepPercentage=function(){var e=this.maxValue-this.minValue;return this.step*100/e};e.prototype._clampThumbValues=function(e){var t=e[0],a=e[1];t.valueMin=this.minValue;t.valueMax=Math.min(a.value-this.step,this.maxValue);a.valueMin=Math.max(this.minValue,t.value+this.step);a.valueMax=this.maxValue};e.prototype._getStepValue=function(e){var t=Math.max(this.minValue,Math.round(e/this.step)*this.step);return this.roundToStep(t,this.step)};e.prototype.roundToStep=function(e,t){return Number.parseFloat(e.toFixed(i(t)))};e.prototype._checkLabelOverflow=function(){var e=this.element.querySelectorAll("as-range-slider-thumb .as-range-slider__value");if(e){var t=this.checkOverflowInParentContainer(e[0]).overflow;var a=(e.length>1?this.checkOverflowInParentContainer(e[1]):{overflow:false}).overflow;this.isLeftLabelOverflowing=t;this.isRightLabelOverflowing=a}};e.prototype.checkThumbCollision=function(){var e=this.element.querySelectorAll("as-range-slider-thumb .as-range-slider__value");if(!e||e.length!==2){return}var t=e[0];var a=e[1];var n=t.getBoundingClientRect();var r=a.getBoundingClientRect();this.areLabelsColliding=u(n,r,8)};e.prototype.checkOverflowInParentContainer=function(e){if(e){var t=this.element.parentElement;var a=t.getBoundingClientRect();var n=e.getBoundingClientRect();var r=a.left>n.left;var i=a.right<n.left+n.width;return{left:r,overflow:r||i,right:i}}return{left:false,overflow:false,right:false}};Object.defineProperty(e.prototype,"element",{get:function(){return r(this)},enumerable:true,configurable:true});Object.defineProperty(e,"watchers",{get:function(){return{value:["validateValue"],range:["validateRange"]}},enumerable:true,configurable:true});Object.defineProperty(e,"style",{get:function(){return"as-range-slider{--as--range-slider--rail-color:var(--as--color--ui-03,#e2e6e3);--as--range-slider--range-color:var(--as--color--primary,#1785fb);display:block;height:32px}as-range-slider .as-range-slider--disabled{pointer-events:none}as-range-slider .as-range-slider__rail{display:-ms-flexbox;display:flex;position:relative;width:calc(100% - 12px);height:12px;margin:auto}as-range-slider .as-range-slider__rail:before{content:\" \";position:absolute;z-index:0;top:50%;left:0;width:100%;height:2px;-webkit-transform:translate3d(0,-50%,0);transform:translate3d(0,-50%,0);background-color:var(--as--range-slider--rail-color,#e2e6e3);pointer-events:none}as-range-slider .as-range-slider__rail-label{visibility:hidden;position:absolute;top:16px;-webkit-transform:translate3d(-50%,0,0);transform:translate3d(-50%,0,0);white-space:nowrap}as-range-slider .as-range-slider__rail-label.as-range-slider__rail-label__overflow--left{-webkit-transform:translate3d(-6px,0,0);transform:translate3d(-6px,0,0)}as-range-slider .as-range-slider__rail-label.as-range-slider__rail-label__overflow--right{-webkit-transform:translate3d(calc(-100% + 6px),0,0);transform:translate3d(calc(-100% + 6px),0,0)}as-range-slider .as-range-slider__rail-label .as-range-slider__label-separator{display:inline-block;width:8px;-webkit-transition:opacity .2s ease-in;transition:opacity .2s ease-in;opacity:0;text-align:center}as-range-slider .as-range-slider__rail-label.as-range-slider__rail-label--active{visibility:visible}as-range-slider .as-range-slider__rail-label.as-range-slider__rail-label--active .as-range-slider__label-separator{opacity:1}"},enumerable:true,configurable:true});return e}());function u(e,t,a){return!(e.y+e.height<t.y||e.y>t.y+t.height||e.x+e.width+a<t.x||e.x>t.x+t.width+a)}}}});