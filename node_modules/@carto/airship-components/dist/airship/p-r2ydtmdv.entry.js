import{r as t,h as s}from"./p-3fce0d94.js";import{b as i}from"./p-8a3a8717.js";const e=class{constructor(s){t(this,s),this.data=null,this.orientation="vertical",this.size=300,this.leadingLineStrokeWidth=.5,this.textLineHeight=12,this.xMarginFactor=.1,this.yMarginFactor=.1,this.width=null,this.rSize=0}componentWillUpdate(){this.parseSize()}componentWillLoad(){this.parseSize()}render(){if(!this.data||0===this.data.length)return;const t=this.getSortedData(),i=t[0].width,e=i/2,h=Math.max(i+4,this.width),n="horizontal"===this.orientation||null===this.width?0:(this.width-i)/2,l=[],o=[];return t.forEach((s,r)=>{const a=e*(s.width/i),u=r/(t.length-1),c=e+a,p=e-a,d=this.size-this.size*u,g="vertical"===this.orientation?[p+n,d]:[d+n,p];if(l.splice(r,0,`L${("vertical"===this.orientation?[c+n,d]:[d+n,c]).join(" ")}`),l.splice(l.length-r,0,`L${g.join(" ")}`),s.label){const i=this.getOffset(r,t.length-1),l=this.size-this.size*u+i,c=[e+a,l],p=[h,l];"horizontal"===this.orientation&&(c.reverse(),p.reverse()),c[0]+=n,p[0]+=n,o.push({label:s.label,x1:c[0],x2:p[0],y1:c[1],y2:p[1]})}}),l.splice(0,0,"horizontal"===this.orientation?`M${this.size} 0`:`M0 ${this.size}`),s("svg",{class:{[`as-legend-size-continuous-line--${this.orientation}`]:!0},style:this.getSVGStyle(),viewBox:this.getSVGViewBox()},s("g",null,s("path",{style:this.getPathStyle(),d:l.join(" ")+" Z"}),s("g",null,o.map(({x1:t,x2:i,y1:e,y2:h})=>{let l=-n;return"horizontal"===this.orientation&&(l=0),s("line",{"stroke-width":this.leadingLineStrokeWidth,x1:t,y1:e,x2:i+l,y2:h})})),s("g",null,o.map(({label:t,x2:i,y2:e})=>{const h={x:4-n,y:this.textLineHeight/4};return"horizontal"===this.orientation&&(h.x=0,h.y=this.textLineHeight),[s("text",{x:i+h.x,y:e+h.y},t)]}))))}parseSize(){if(!this.data||0===this.data.length)return;const t=this.getSortedData();this.rSize=Math.max(t[0].width+4+this.textLineHeight,0)}getSortedData(){return null===this.data?this.data:this.data.slice().sort((t,s)=>s.width-t.width)}getPathStyle(){return{fill:`${this.data[0].color}`}}getSVGStyle(){return{height:`${("horizontal"===this.orientation?this.rSize:this.size)*(1+this.yMarginFactor)}px`,width:`${this.size*(1+this.xMarginFactor)}px`}}getSVGViewBox(){const t="horizontal"===this.orientation?this.rSize:this.size;let s=this.size*(-this.xMarginFactor/2);return"vertical"===this.orientation&&(s=0),`${s} ${t*(-this.yMarginFactor/2)} ${this.size*(1+this.xMarginFactor)} ${t*(1+this.yMarginFactor)}`}getOffset(t,s){let i=0;return t===s&&(i+=this.leadingLineStrokeWidth),0===t&&(i-=this.leadingLineStrokeWidth),i}static get style(){return"as-legend-size-continuous-line{display:block;overflow:hidden}as-legend-size-continuous-line svg text{font:var(--as--font--caption)}as-legend-size-continuous-line svg line{stroke:var(--as-legend--color)}as-legend-size-continuous-line svg.as-legend-size-continuous-line--horizontal text{text-anchor:middle}"}},h=class{constructor(s){t(this,s),this.orientation="vertical",this.scale=1}render(){if(!this.data)return null;const t={"as-legend-size-continuous-point--wrapper":!0,[`as-legend-size-continuous-point--${this.orientation}`]:!0},i=this.data.slice().sort((t,s)=>s.width-t.width);this.maxSize=i[0].width*this.scale;const e={height:`${this.maxSize}px`,width:`${this.maxSize}px`};return s("div",{class:t},s("span",{class:"as-legend-size-continuous-point--label"},i[i.length-1].label),s("div",{style:e,class:"as-legend-size-continuous-point--steps"},i.map(t=>this.renderStep(t))),s("span",{class:"as-legend-size-continuous-point--label"},i[0].label))}renderStep(t){const e=`1px ${t.strokeStyle||"solid"} ${t.strokeColor}`,h=i(t.strokeStyle)?2:0,n=`${Math.round((t.width+h)*this.scale)}px`;return s("div",{class:"as-legend-size-continuous-point--circle",style:{backgroundColor:t.color,border:e,height:n,width:n}})}static get style(){return"as-legend-size-continuous-point{--as-legend-size-continuous-point--color:var(--as--color--type-01);--as-legend-size-continuous-point--shadow:rgba(0,0,0,0.1);display:block}as-legend-size-continuous-point .as-legend-size-continuous-point--steps{position:relative;margin:8px}as-legend-size-continuous-point .as-legend-size-continuous-point--steps,as-legend-size-continuous-point .as-legend-size-continuous-point--wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}as-legend-size-continuous-point .as-legend-size-continuous-point--circle{position:absolute;border:2px solid var(--as-legend-size-continuous-point--shadow);border-radius:50%;-webkit-box-shadow:0 0 2px 0 var(--as-legend-size-continuous-point--shadow);box-shadow:0 0 2px 0 var(--as-legend-size-continuous-point--shadow)}as-legend-size-continuous-point .as-legend-size-continuous-point--label{color:var(--as-legend-size-continuous-point--color);font:var(--as--font--caption);text-transform:capitalize;white-space:nowrap}as-legend-size-continuous-point .as-legend-size-continuous-point--vertical .as-legend-size-continuous-point--steps,as-legend-size-continuous-point .as-legend-size-continuous-point--vertical.as-legend-size-continuous-point--wrapper{-ms-flex-direction:column-reverse;flex-direction:column-reverse}"}};export{e as as_legend_size_continuous_line,h as as_legend_size_continuous_point};