var n=Array.prototype.slice;function t(n){return n}var r=1,u=2,i=3,e=4,o=1e-6;function f(n){return"translate("+(n+.5)+",0)"}function c(n){return"translate(0,"+(n+.5)+")"}function a(){return!this.__axis}function l(l,s){var m=[],h=null,d=null,y=6,v=6,k=3,p=l===r||l===e?-1:1,x=l===e||l===u?"x":"y",M=l===r||l===i?f:c;function H(n){var f=null==h?s.ticks?s.ticks.apply(s,m):s.domain():h,c=null==d?s.tickFormat?s.tickFormat.apply(s,m):t:d,H=Math.max(y,0)+k,V=s.range(),F=+V[0]+.5,b=+V[V.length-1]+.5,g=(s.bandwidth?function(n){var t=Math.max(0,n.bandwidth()-1)/2;return n.round()&&(t=Math.round(t)),function(r){return+n(r)+t}}:function(n){return function(t){return+n(t)}})(s.copy()),z=n.selection?n.selection():n,A=z.selectAll(".domain").data([null]),j=z.selectAll(".tick").data(f,s).order(),q=j.exit(),w=j.enter().append("g").attr("class","tick"),B=j.select("line"),C=j.select("text");A=A.merge(A.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),j=j.merge(w),B=B.merge(w.append("line").attr("stroke","#000").attr(x+"2",p*y)),C=C.merge(w.append("text").attr("fill","#000").attr(x,p*H).attr("dy",l===r?"0em":l===i?"0.71em":"0.32em")),n!==z&&(A=A.transition(n),j=j.transition(n),B=B.transition(n),C=C.transition(n),q=q.transition(n).attr("opacity",o).attr("transform",function(n){return isFinite(n=g(n))?M(n):this.getAttribute("transform")}),w.attr("opacity",o).attr("transform",function(n){var t=this.parentNode.__axis;return M(t&&isFinite(t=t(n))?t:g(n))})),q.remove(),A.attr("d",l===e||l==u?"M"+p*v+","+F+"H0.5V"+b+"H"+p*v:"M"+F+","+p*v+"V0.5H"+b+"V"+p*v),j.attr("opacity",1).attr("transform",function(n){return M(g(n))}),B.attr(x+"2",p*y),C.attr(x,p*H).text(c),z.filter(a).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",l===u?"start":l===e?"end":"middle"),z.each(function(){this.__axis=g})}return H.scale=function(n){return arguments.length?(s=n,H):s},H.ticks=function(){return m=n.call(arguments),H},H.tickArguments=function(t){return arguments.length?(m=null==t?[]:n.call(t),H):m.slice()},H.tickValues=function(t){return arguments.length?(h=null==t?null:n.call(t),H):h&&h.slice()},H.tickFormat=function(n){return arguments.length?(d=n,H):d},H.tickSize=function(n){return arguments.length?(y=v=+n,H):y},H.tickSizeInner=function(n){return arguments.length?(y=+n,H):y},H.tickSizeOuter=function(n){return arguments.length?(v=+n,H):v},H.tickPadding=function(n){return arguments.length?(k=+n,H):k},H}function s(n){return l(i,n)}function m(n){return l(e,n)}export{m as a,s as b};