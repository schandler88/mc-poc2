import { r as readableNumber } from './readable-number-b11b551f.js';
import { s as select, l as linear } from './index-3374c455.js';
import { a as axisLeft } from './index-87eae0eb.js';

function renderYAxis(svgElement, scale) {
    const VERTICAL_SPACING = 36; // Need 16px top and bottom to view the labels
    const TICK_RIGHT_MARGIN = 18;
    const LABEL_WIDTH = 25;
    const ELEMENT = select(svgElement);
    const HEIGHT = ELEMENT.node().getBoundingClientRect().height - VERTICAL_SPACING;
    const WIDTH = ELEMENT.node().getBoundingClientRect().width;
    const TICK_SIZE = -WIDTH + LABEL_WIDTH;
    const RANGE = [HEIGHT, 0];
    const yScale = linear()
        .domain(scale)
        .range(RANGE);
    const yAxis = axisLeft(yScale)
        .tickSizeInner(TICK_SIZE + TICK_RIGHT_MARGIN)
        .ticks(6)
        .tickFormat((d) => `${readableNumber(d)}`);
    if (ELEMENT.select('.y-axis').empty()) {
        _createYAxisElement(ELEMENT).call(yAxis);
    }
    else {
        ELEMENT.select('.y-axis').call(yAxis);
    }
    ELEMENT.selectAll('.tick text')
        .attr('textLength', LABEL_WIDTH)
        .attr('lengthAdjust', 'spacing');
    return svgElement.querySelector('g.y-axis');
}
function _createYAxisElement(element) {
    return element.append('g').attr('class', 'y-axis');
}
const yAxisService = { renderYAxis };

export { yAxisService as y };
